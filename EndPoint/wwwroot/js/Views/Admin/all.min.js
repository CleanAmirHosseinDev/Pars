





(function (web, $) {

    //Document Ready              

    function signOutForExitToLogin() {

        dellstor("token");
        dellstor("menu");
        dellstor("fullName");
        dellstor("userID");
        dellstor("loginName");

        goToUrl("/Account/LoginA");

    }

    function initLayout() {

        if (isEmpty(getlstor("token"))) goToUrl("/Account/LoginA");
        else {

            $(".fullNameInLayout").html(getlstor("fullName"));

            var menu = JSON.parse(getlstor("menu"));

            var strMenu = "<li><a href='/'><img src='/css/GlobalAreas/dist/img/Logo/hnet.com-image.png' class='' style='width: 20px; height: 20px;' /> <span>سامانه پارس کیان</span></a></li><li class='active'><a href='/Admin'><i class='fa fa-dashboard'></i> <span>داشبورد</span></a></li>";

            if (menu != null && menu.length > 0) {

                menu = menu.filter(p => p.link != "");

                var groupByList = groupBy(menu, "labelGroup");                

                for (var i = 0; i < groupByList.length; i++) {

                    strMenu += "<li class='treeview'><a href='#'><i class='" + groupByList[i][1][0].icon+"'></i> <span>" + groupByList[i][0] + "</span><span class='pull-left-container'><i class='fa fa-angle-right pull-left'></i></span></a><ul class='treeview-menu'>";

                    var qL = menu.filter(o => o.labelGroup == groupByList[i][0]);

                    qL.forEach(function (itemC, iC) {

                        strMenu += "<li><a href='" + itemC.link + "'><i class='fa fa-plus'></i>" + itemC.group_Item + "</a></li>";

                    });
                    strMenu += "</ul></li>";

                }

            }

            strMenu += "<li><a href='' onclick='Web.Layout.SignOutForExitToLogin();'><i class='fa fa-sign-out'></i> <span>خروج</span></a></li>";
            $("#ulMenuMain").html(strMenu);

        }

    }

    web.Layout = {

        SignOutForExitToLogin: signOutForExitToLogin,
        InitLayout: initLayout

    };

})(Web, jQuery);







(function (web, $) {

    //Document Ready              

    function textSearchOnKeyDown(event) {

        if (event.keyCode == 13) $(`button[title='جستجو']`).click();

    }

    function filterGrid() {

        AjaxCallAction("POST", "/api/admin/City/Get_Citys", JSON.stringify({ Search: $("#txtSearch").val(), PageIndex: 1, PageSize: $("#cboSelectCount").val() }), true, function (res) {

            if (res.isSuccess) {

                var strM = '';
                for (var i = 0; i < res.data.length; i++) {

                    strM += "<tr><td>" + (i + 1) + "</td><td>" + res.data[i].state.stateName+"</td><td>" + res.data[i].cityName + "</td><td><a title='ویرایش' href='/Admin/City/EditCity?id=" + res.data[i].cityId + "' class='btn btn-edit fontForAllPage'><i class='fa fa-edit'></i></a></td></tr>";

                }
                $("#tBodyList").html(strM);

            }

        }, true);

    }

    function getStatesList() {

        AjaxCallAction("POST", "/api/admin/City/Get_States_Combo", JSON.stringify({ PageIndex: 0, PageSize:0}), true, function (res) {

            if (res.isSuccess) {

                var strM = '';
                for (var i = 0; i < res.data.length; i++) {
                        strM += " <option value=" + res.data[i].stateId + ">" + res.data[i].stateName + "</option>"; 
                }
                $("#StateId").html(strM);
            }
        }, true);

    }

    function saveCity(e) {

        $(e).attr("disabled", "");

        
        AjaxCallAction("POST", "/api/admin/City/Save_City", JSON.stringify({ CityName: $("#CityName").val(), CityId: $("#CityId").val(), StateId: $("#StateId").val() }), true, function (res) {

            $(e).removeAttr("disabled");

            if (res.isSuccess) {

                goToUrl("/Admin/City/Index");

            }
         else {

            alertB("خطا", res.message, "error");
            }

        }, true);

    }

    function initCity(id = null, dir = 'rtl') {

        ComboBoxWithSearch('.select2', dir);
        
        if (!isEmpty(id) && id != 0) {

            AjaxCallAction("GET", "/api/admin/City/Get_City/" + id, null, true, function (res) {                
               
                if (res != null) {
                    getStatesList();
                    $("#CityId").val(res.cityId);
                    $("#CityName").val(res.cityName);                   
                    $("#StateId").val(res.stateId);
                    comboBoxWithSearchUpdateText("StateId", res.state.stateName);

                }
            }, true);

        }

    }

    web.City = {
        TextSearchOnKeyDown: textSearchOnKeyDown,
        FilterGrid: filterGrid,
        SaveCity: saveCity,
        InitCity: initCity,
        GetStatesList: getStatesList
    };

})(Web, jQuery);







(function (web, $) {

    //Document Ready              

    function textSearchOnKeyDown(event) {

        if (event.keyCode == 13) $(`button[title='جستجو']`).click();

    }

    function filterGrid() {

        AjaxCallAction("POST", "/api/admin/State/Get_States", JSON.stringify({ Search: $("#txtSearch").val(), PageIndex: 1, PageSize: $("#cboSelectCount").val() }), true, function (res) {

            if (res.isSuccess) {

                var strM = '';
                for (var i = 0; i < res.data.length; i++) {

                    strM += "<tr><td>" + (i + 1) + "</td><td>" + res.data[i].stateName + "</td><td><a title='ویرایش' href='/Admin/State/EditState?id=" + res.data[i].stateId + "' class='btn btn-edit fontForAllPage'><i class='fa fa-edit'></i></a></td></tr>";

                }
                $("#tBodyList").html(strM);

            }

        }, true);

    }

    function saveState(e) {

        $(e).attr("disabled", "");

        AjaxCallAction("POST", "/api/admin/State/Save_State", JSON.stringify({ StateName: $("#StateName").val(), StateId: $("#StateId").val() }), true, function (res) {

            $(e).removeAttr("disabled");

            if (res.isSuccess) {

                goToUrl("/Admin/State/Index");

            }
            else {

                alertB("خطا", res.message, "error");
            }

        }, true);

    }

    function initState(id = null) {

        if (!isEmpty(id) && id != 0) {

            AjaxCallAction("GET", "/api/admin/State/Get_State/" + id, null, true, function (res) {                

                if (res != null) {

                    $("#StateId").val(res.stateId);
                    $("#StateName").val(res.stateName);

                }

            }, true);

        }

    }

    web.State = {
        TextSearchOnKeyDown: textSearchOnKeyDown,
        FilterGrid: filterGrid,
        SaveState: saveState,
        InitState: initState
    };

})(Web, jQuery);







(function (web, $) {

    //Document Ready              

    function textSearchOnKeyDown(event) {

        if (event.keyCode == 13) $(`button[title='جستجو']`).click();

    }

    function filterGrid() {

        AjaxCallAction("POST", "/api/admin/SystemSeting/Get_SystemSetings", JSON.stringify({  ParentCode: !isEmpty($("#SystemSetingID").val()) ? $("#SystemSetingID").val() : null, Search: $("#txtSearch").val(), PageIndex: 1, PageSize: $("#cboSelectCount").val() }), true, function (res) {

            if (res.isSuccess) {

                var strM = '';

                for (var i = 0; i < res.data.length; i++) {

                    strM += "<tr><td>" + (i + 1) + "</td><td>" + res.data[i].label + "</td><td><a title='ویرایش' href='/Admin/SystemSeting/EditSystemSeting?id=" + res.data[i].systemSetingId + "' class='btn btn-edit fontForAllPage'><i class='fa fa-edit'></i></a></td></tr>";

                }
                $("#tBodyList").html(strM);

            }

        }, true);

    }

    function initSystemSeting(id = null) {
        
        systemSetingList("ParentCode");
        if (!isEmpty(id) && id != 0) {

            AjaxCallAction("GET", "/api/admin/SystemSeting/Get_SystemSeting/" + id, null, true, function (res) {

                if (res != null) {
                   $("#SystemSetingID").val(res.systemSetingId);                    
                   $("#Label").val(res.label);
                   $("#ParentCode").val(res.parentCode);                   
                    comboBoxWithSearchUpdateText("ParentCode", res.parenLabel);
                    systemSetingListSub("SubCodes", res.systemSetingId);
                }
            }, true);
        }

    }   

    function systemSetingList(ComboName) {

        ComboBoxWithSearch('.select2', 'rtl');

        AjaxCallAction("POST", "/api/admin/SystemSeting/Get_SystemSetings", JSON.stringify({  ParentCode:null, PageIndex: 0, PageSize: 0 }), true, function (res) {

            if (res.isSuccess) {

               // var resA = new Array();

                var strM = '<option value="">انتخاب کنید</option>';

                for (var i = 0; i < res.data.length; i++) {

                    //  var q = resA.filter(p => p.ParentCode == res.data[i].labeCode);
                    //  if (q.length > 0) continue;
                    if (res.data[i].parentCode == null) {
                      //  resA.push(res.data[i]);
                        strM += " <option value=" + res.data[i].systemSetingId + ">" + res.data[i].label + "</option>";
                    }
                  
                }
                $("#" + ComboName).html(strM);
            }

        }, true);
    }

    function systemSetingListSub(ComboName,PC=null) {

        ComboBoxWithSearch('.select2', 'rtl');

        AjaxCallAction("POST", "/api/admin/SystemSeting/Get_SystemSetings", JSON.stringify({ ParentCode: PC, PageIndex: 0, PageSize: 0 }), true, function (res) {

            if (res.isSuccess) {
                var strM ="";

                for (var i = 0; i < res.data.length; i++) {

                        strM += " <option value=" + res.data[i].systemSetingId + ">" + res.data[i].label + "</option>";                   

                }
                $("#" + ComboName).html(strM);
            }

        }, true);
    }

    function saveSystemSeting(e) {

        $(e).attr("disabled", "");
       
        AjaxCallAction("POST", "/api/admin/SystemSeting/Save_SystemSeting", JSON.stringify({ NewLabel: $("#NewLabel").val(), SystemSetingID: $("#SystemSetingID").val(), Label: $("#Label").val(), ParentCode: $("#ParentCode").val() }), true, function (res) {

            $(e).removeAttr("disabled");

            if (res.isSuccess) {               
                var o = new Option($("#NewLabel").val(), "");
                $(o).html($("#NewLabel").val());
                $("#SubCodes").append(o);
                $("#NewLabel").val("");
               // goToUrl("/Admin/SystemSeting/EditSystemSeting?id=" + $("#SystemSetingID").val());
            }
            else {

                alertB("خطا", res.message, "error");
            }

        }, true);

    }


    web.SystemSeting = {
        TextSearchOnKeyDown: textSearchOnKeyDown,
        FilterGrid: filterGrid,
        InitSystemSeting: initSystemSeting,
        SystemSetingList: systemSetingList,
        SaveSystemSeting: saveSystemSeting,
        SystemSetingListSub: systemSetingListSub,
         
    };

})(Web, jQuery);







(function (web, $) {

    //Document Ready  
    

    function textSearchOnKeyDown(event) {

        if (event.keyCode == 13) $(`button[title='جستجو']`).click();

    }

    function filterGrid() {

        AjaxCallAction("POST", "/api/admin/Users/Get_Userss", JSON.stringify({ Search: $("#txtSearch").val(), PageIndex: 1, PageSize: $("#cboSelectCount").val() }), true, function (res) {

            if (res.isSuccess) {

                var strM = '';
                for (var i = 0; i < res.data.length; i++) {
                    if (res.data[i].user.userName == "svisor" || res.data[i].user.userName == "admin" || res.data[i].role.roleDesc == "مشتری") {
                        strM += "<tr><td>" + (i + 1) + "</td><td>" + res.data[i].user.realName + "</td><td>" + res.data[i].user.userName + "</td><td>" + res.data[i].role.roleDesc + "</td><td>" + (res.data[i].user.status == true ? "فعال" : "غیر فعال") + "</td><td>" + res.data[i].user.mobile + "</td><td><a title='ویرایش' href='/Admin/Users/EditUser?id=" + res.data[i].userId + "' class='btn btn-edit fontForAllPage'><i class='fa fa-edit'></i></a>" + "</td></tr>";

                    } else {
                        strM += "<tr><td>" + (i + 1) + "</td><td>" + res.data[i].user.realName + "</td><td>" + res.data[i].user.userName + "</td><td>" + res.data[i].role.roleDesc + "</td><td>" + (res.data[i].user.status == true ? "فعال" : "غیر فعال") + "</td><td>" + res.data[i].user.mobile + "</td><td><a title='ویرایش' href='/Admin/Users/EditUser?id=" + res.data[i].userId + "' class='btn btn-edit fontForAllPage'><i class='fa fa-edit'></i></a>" + "<a style='margin-right:5px' Title='تنظیمات دسترسی کاربر' href='/Admin/Users/EditUserAccessLevel?id=" + res.data[i].userId + "' class='btn btn-info fontForAllPage'><i class='fa fa-cog'></i></a>" + "</td></tr>";
                    }
                  }
                $("#tBodyList").html(strM);
            }
        }, true);

    }

    function saveUser(e) {

        $(e).attr("disabled", "");

        let status = null;
        if ($('#Status').is(":checked")) {
             status = true;
        }

        else {
             status = false;
        }         

        AjaxCallAction("POST", "/api/admin/Users/Save_Users", JSON.stringify({ Id: $("#Id").val(), RoleId: $("#RoleId").val(), UserID: $("#UserId").val(), User: { RealName: $("#RealName").val(), UserName: $("#UserName").val(), Password: $("#Password").val(), Mobile: $("#Mobile").val(), Email: $("#Email").val(), Status: status} }), true, function (res) {

            $(e).removeAttr("disabled");

            if (res.isSuccess) {
                
                goToUrl("/Admin/Users/Index");
            } else {

                alertB("خطا", res.message, "error");
            }

        }, true);

    }

    function saveUserAccessLevel(e) {
        try {
            $(e).attr("disabled", "");
            
                
                var val1 = [];
                $('select[name="SuperVisorRoles_Arr[]"] option:selected').each(function () {
                    val1.push($(this).val());
                });

                AjaxCallAction("POST", "/api/admin/Users/Save_AccessLevels", JSON.stringify({ Roles: val1.join(","), UserId: $("#UserId").val() }), true, function (res) {
                    $(e).removeAttr("disabled");

                    if (res.isSuccess) {

                        goToUrl("/Admin/Users/Index");
                    } else {

                        alertB("خطا", res.message, "error");
                    }
                }, true);            

        } catch (e) {

        }
    }

    function get_Roles_Combo() {

        AjaxCallAction("POST", "/api/admin/Users/Get_Roles_Combo", JSON.stringify({ PageIndex: 0, PageSize: 0 }), true, function (res) {

            if (res.isSuccess) {

                var strM = '';
                for (var i = 0; i < res.data.length; i++) {
                    strM += " <option value=" + res.data[i].roleId + ">" + res.data[i].roleDesc + "</option>";
                }
                $("#RoleId").html(strM);
            }
        }, true);

    }

    function initUser(id = null, dir = 'rtl') {

        get_Roles_Combo();
        
        if (!isEmpty(id) && id != 0) {

            AjaxCallAction("GET", "/api/admin/Users/Get_Users/" + id, null, true, function (res) {

                if (res != null) {
                    $("#Id").val(res.id);
                    $("#UserId").val(res.userId);
                    $("#RoleId").val(res.roleId);
                    comboBoxWithSearchUpdateText("RoleId", res.role.roleDesc);
                    $("#RealName").val(res.user.realName);
                    $("#UserName").val(res.user.userName);
                    $("#Mobile").val(res.user.mobile);
                    $("#Email").val(res.user.email);
                    $("#Status").prop('checked', res.user.status);
                   
                    getGetAccessLevels(id,dir);
                  
                }
            }, true);
        }
       
    }

    function initUserAccessLevel(id = null, dir = 'rtl') {

        
        if (!isEmpty(id) && id != 0) {

            AjaxCallAction("GET", "/api/admin/Users/Get_Users/" + id, null, true, function (res) {

                if (res != null) {
                    $("#Id").val(res.id);
                    $("#UserId").val(res.userId);
                    $("#RoleId").val(res.roleId);                 
                    $("#RealName").val(res.user.realName);                   
                    getGetAccessLevels(id, dir);

                }
            }, true);
        }

    }

    function getGetAccessLevels(id = null,dir) {
        if (!isEmpty(id) && id != 0) {
            AjaxCallAction("GET", "/api/admin/Users/GetAccessLevels/" + id, null, true, function (res) {


                var strAccessPanel = "<div class='container mt-3'><div id='accordion'>";

                if (res != null && res.length > 0) {

                    var groupByList = groupBy(res, "labelGroup");

                   
                    for (var i = 0; i < groupByList.length; i++) {

                        //======================== سطح اول =========================================

                        strAccessPanel += "<div class='col-md-12'>";
                        //strAccessPanel += "<div class='panel panel-primary'>";
                        //strAccessPanel += "<div class='panel-heading'>" + groupByList[i][0] + "</div>";
                        //strAccessPanel += "<div class='panel-body' >";
                        
                        strAccessPanel += "<div class='card'><div class='card-header'><a class='collapsed btn' data-bs-toggle='collapse' href='#Collaps" + groupByList.length + "'><i class='fa fa-plus-square-o' aria-hidden='true'></i>&nbsp;&nbsp;" + groupByList[i][0] + "</a></div>";
                        strAccessPanel += "<div id='Collaps" + groupByList.length+"' class='collapse' data-bs-parent='#accordion'><div class='card-body'>";

                        var groupByList2 = groupBy(res, "group_Item");
                        for (var j = 0; j < groupByList2.length; j++) {

                             //====================== سطح دوم ======================= 
                            strAccessPanel += "<div class='col-md-4'>";
                            strAccessPanel += "<div class='panel panel-primary'>";
                            strAccessPanel += "<div class='panel-heading'>" + groupByList2[j][1][0].group_Item + "</div>";
                            strAccessPanel += "<div class='panel-body' style='height:100px;overflow-y:scroll;'>";
                             //========= گزینه ها ========= 
                            strAccessPanel += "<select multiple='multiple' class='multi-select' id='SuperVisorRoles_Arr' name='SuperVisorRoles_Arr[]'>";
                            for (var z = 0; z < groupByList2[j][1].length; z++)
                            {
                                strAccessPanel += "<option id='" + groupByList2[j][1][z].value + "' value='" + groupByList2[j][1][z].value + "'" + (groupByList2[j][1][z].selected ? "selected" : "") + ">" + groupByList2[j][1][z].text + "</option>";
                            }
                            strAccessPanel += "</select>";                         
                            //===============================
                            strAccessPanel += "</div>";
                            strAccessPanel += "</div>";
                            strAccessPanel += "</div>";
                            //=======================================================
                        }                      
                        strAccessPanel += "</div>";
                        strAccessPanel += "</div>";
                        strAccessPanel += "</div>";
                         //==========================================================================
                    }
                }
                strAccessPanel += "</div></div>";
                $("#AccessPanel").html(strAccessPanel);
                ComboBoxWithSearch('.select2', dir);
                MultiSelect(".multi-select");
            }, true);
        }
    }

   
    web.Users = {
        TextSearchOnKeyDown: textSearchOnKeyDown,
        FilterGrid: filterGrid,
        SaveUser: saveUser,
        Get_Roles_Combo: get_Roles_Combo,
        InitUser: initUser,
        GetGetAccessLevels: getGetAccessLevels,
        SaveUserAccessLevel: saveUserAccessLevel,
        InitUserAccessLevel: initUserAccessLevel
      
    };

})(Web, jQuery);







(function (web, $) {

    //Document Ready              

    function textSearchOnKeyDown(event) {

        if (event.keyCode == 13) $(`button[title='جستجو']`).click();

    }

    function filterGrid() {

        AjaxCallAction("POST", "/api/admin/Activity/Get_Activitys", JSON.stringify({ Search: $("#txtSearch").val(), PageIndex: 1, PageSize: $("#cboSelectCount").val() }), true, function (res) {

            if (res.isSuccess) {

                var strM = '';
                for (var i = 0; i < res.data.length; i++) {

                    strM += "<tr><td>" + (i + 1) + "</td><td>" + res.data[i].activityTitleNavigation.label + "</td><td><a title='ویرایش' href='/Admin/Activity/EditActivity?id=" + res.data[i].activityId + "' class='btn btn-edit fontForAllPage'><i class='fa fa-edit'></i></a></td></tr>";

                }
                $("#tBodyList").html(strM);

            }

        }, true);

    }

    function saveActivity(e) {

        $(e).attr("disabled", "");

        AjaxCallAction("POST", "/api/admin/Activity/Save_Activity", JSON.stringify({ ActivityName: $("#ActivityName").val(), ActivityId: $("#ActivityId").val() }), true, function (res) {

            $(e).removeAttr("disabled");

            if (res.isSuccess) {

                goToUrl("/Admin/Activity/Index");

            }
            else {

                alertB("خطا", res.message, "error");
            }

        }, true);

    }

    function initActivity(id = null) {
        ComboBoxWithSearch('.select2', 'dir');

        if (!isEmpty(id) && id != 0) {

            AjaxCallAction("GET", "/api/admin/Activity/Get_Activity/" + id, null, true, function (res) {

                if (res != null) {
                    
                    $("#ActivityId").val(res.activityId);
                    $("#ActivityComment").val(res.activityComment);
                    systemSeting_Combo(res);
                }

            }, true);

        }

    }

    function systemSeting_Combo(resSingle) {

        AjaxCallAction("POST", "/api/admin/SystemSeting/Get_SystemSetings", JSON.stringify({ ParentCodeArr: "150", PageIndex: 0, PageSize: 0 }), true, function (res) {

            if (res.isSuccess) {
                var strActivityTitle = '<option value="">انتخاب کنید</option>';
               
                for (var i = 0; i < res.data.length; i++) {
                   
                    strActivityTitle += " <option value=" + res.data[i].systemSetingId + ">" + res.data[i].label + "</option>";
                    
                }
             
                $("#ActivityTitle").html(strActivityTitle);              
                $("#ActivityTitle").val(resSingle.activityTitle);



            }
        }, true);
    }

    web.Activity = {
        TextSearchOnKeyDown: textSearchOnKeyDown,
        FilterGrid: filterGrid,
        SaveActivity: saveActivity,
        InitActivity: initActivity,
        SystemSeting_Combo: systemSeting_Combo
    };

})(Web, jQuery);







(function (web, $) {

    //Document Ready              

    function textSearchOnKeyDown(event) {

        if (event.keyCode == 13) $(`button[title='جستجو']`).click();

    }

    function filterGrid() {

        AjaxCallAction("POST", "/api/admin/Companies/Get_Companiess", JSON.stringify({ Search: $("#txtSearch").val(), PageIndex: 1, PageSize: $("#cboSelectCount").val() }), true, function (res) {

            if (res.isSuccess) {

                var strM = '';
                for (var i = 0; i < res.data.length; i++) {

                    strM += "<tr><td>" + (i + 1) + "</td><td>" + res.data[i].companyName + "</td><td>" + res.data[i].kindOfCompanyNavigation.label+ "</td><td>" + res.data[i].companyGroup.label +"</td><td><a title='ویرایش' href='/Admin/Companies/EditCompanies?id=" + res.data[i].companiesId + "' class='btn btn-edit fontForAllPage'><i class='fa fa-edit'></i></a></td></tr>";

                }
                $("#tBodyList").html(strM);

            }

        }, true);

    }

    function saveCompanies(e) {

        $(e).attr("disabled", "");

        AjaxCallAction("POST", "/api/admin/Companies/Save_Companies", JSON.stringify({ CompaniesName: $("#CompaniesName").val(), CompaniesId: $("#CompaniesId").val() }), true, function (res) {

            $(e).removeAttr("disabled");

            if (res.isSuccess) {

                goToUrl("/Admin/Companies/Index");

            }
            else {

                alertB("خطا", res.message, "error");
            }

        }, true);

    }

    function initCompanies(id = null) {
        ComboBoxWithSearch('.select2', 'dir');

        if (!isEmpty(id) && id != 0) {

            AjaxCallAction("GET", "/api/admin/Companies/Get_Companies/" + id, null, true, function (res) {

                if (res != null) {
                    
                    $("#CompaniesId").val(res.CompaniesId);
                    $("#CompaniesComment").val(res.CompaniesComment);
                    systemSeting_Combo(res);
                }

            }, true);

        }

    }

    function systemSeting_Combo(resSingle) {

        AjaxCallAction("POST", "/api/admin/SystemSeting/Get_SystemSetings", JSON.stringify({ ParentCodeArr: "150", PageIndex: 0, PageSize: 0 }), true, function (res) {

            if (res.isSuccess) {
                var strCompaniesTitle = '<option value="">انتخاب کنید</option>';
               
                for (var i = 0; i < res.data.length; i++) {
                   
                    strCompaniesTitle += " <option value=" + res.data[i].systemSetingId + ">" + res.data[i].label + "</option>";
                    
                }
             
                $("#CompaniesTitle").html(strCompaniesTitle);              
                $("#CompaniesTitle").val(resSingle.CompaniesTitle);



            }
        }, true);
    }

    web.Companies = {
        TextSearchOnKeyDown: textSearchOnKeyDown,
        FilterGrid: filterGrid,
        SaveCompanies: saveCompanies,
        InitCompanies: initCompanies,
        SystemSeting_Combo: systemSeting_Combo
    };

})(Web, jQuery);







(function (web, $) {

    //Document Ready              

    function textSearchOnKeyDown(event) {

        if (event.keyCode == 13) $(`button[title='جستجو']`).click();

    }

    function filterGrid() {

        AjaxCallAction("POST", "/api/admin/ServiceFee/Get_ServiceFees", JSON.stringify({ Search: $("#txtSearch").val(), PageIndex: 1, PageSize: $("#cboSelectCount").val() }), true, function (res) {

            if (res.isSuccess) {

                var strM = '';
                for (var i = 0; i < res.data.length; i++) {

                    strM += "<tr><td>" + (i + 1) + "</td><td>" + res.data[i].kindOfServiceNavigation.label + "</td><td>" + res.data[i].fromCompanyRange + "</td><td>" + res.data[i].toCompanyRange + "</td><td>" + res.data[i].fixedCost + "</td><td>" + res.data[i].variableCost + "</td><td><a title='ویرایش' href='/Admin/ServiceFee/EditServiceFee?id=" + res.data[i].serviceFeeId + "' class='btn btn-edit fontForAllPage'><i class='fa fa-edit'></i></a></td></tr>";

                }
                $("#tBodyList").html(strM);

            }

        }, true);

    }

    function saveServiceFee(e) {

        $(e).attr("disabled", "");

        AjaxCallAction("POST", "/api/admin/ServiceFee/Save_ServiceFee", JSON.stringify({ ServiceFeeName: $("#ServiceFeeName").val(), ServiceFeeId: $("#ServiceFeeId").val() }), true, function (res) {

            $(e).removeAttr("disabled");

            if (res.isSuccess) {

                goToUrl("/Admin/ServiceFee/Index");

            }
            else {

                alertB("خطا", res.message, "error");
            }

        }, true);

    }

    function initServiceFee(id = null) {
        ComboBoxWithSearch('.select2', 'dir');

        if (!isEmpty(id) && id != 0) {

            AjaxCallAction("GET", "/api/admin/ServiceFee/Get_ServiceFee/" + id, null, true, function (res) {

                if (res != null) {
                    
                    $("#ServiceFeeId").val(res.ServiceFeeId);
                    $("#ServiceFeeComment").val(res.ServiceFeeComment);
                    systemSeting_Combo(res);
                }

            }, true);

        }

    }

    function systemSeting_Combo(resSingle) {

        AjaxCallAction("POST", "/api/admin/SystemSeting/Get_SystemSetings", JSON.stringify({ ParentCodeArr: "150", PageIndex: 0, PageSize: 0 }), true, function (res) {

            if (res.isSuccess) {
                var strServiceFeeTitle = '<option value="">انتخاب کنید</option>';
               
                for (var i = 0; i < res.data.length; i++) {
                   
                    strServiceFeeTitle += " <option value=" + res.data[i].systemSetingId + ">" + res.data[i].label + "</option>";
                    
                }
             
                $("#ServiceFeeTitle").html(strServiceFeeTitle);              
                $("#ServiceFeeTitle").val(resSingle.ServiceFeeTitle);



            }
        }, true);
    }

    web.ServiceFee = {
        TextSearchOnKeyDown: textSearchOnKeyDown,
        FilterGrid: filterGrid,
        SaveServiceFee: saveServiceFee,
        InitServiceFee: initServiceFee,
        SystemSeting_Combo: systemSeting_Combo
    };

})(Web, jQuery);







(function (web, $) {

    //Document Ready              

    function textSearchOnKeyDown(event) {

        if (event.keyCode == 13) $(`button[title='جستجو']`).click();

    }

    function filterGrid() {

        AjaxCallAction("POST", "/api/admin/Contract/Get_Contracts", JSON.stringify({ Search: $("#txtSearch").val(), PageIndex: 1, PageSize: $("#cboSelectCount").val() }), true, function (res) {

            if (res.isSuccess) {

                var strM = '';
                for (var i = 0; i < res.data.length; i++) {

                    strM += "<tr><td>" + (i + 1) + "</td><td>" + res.data[i].kinfOfRequestNavigation.label +  "</td><td><a title='ویرایش' href='/Admin/Contract/EditContract?id=" + res.data[i].ContractId + "' class='btn btn-edit fontForAllPage'><i class='fa fa-edit'></i></a></td></tr>";

                }
                $("#tBodyList").html(strM);

            }

        }, true);

    }

    function saveContract(e) {

        $(e).attr("disabled", "");

        AjaxCallAction("POST", "/api/admin/Contract/Save_Contract", JSON.stringify({ ContractName: $("#ContractName").val(), ContractId: $("#ContractId").val() }), true, function (res) {

            $(e).removeAttr("disabled");

            if (res.isSuccess) {

                goToUrl("/Admin/Contract/Index");

            }
            else {

                alertB("خطا", res.message, "error");
            }

        }, true);

    }

    function initContract(id = null) {
        ComboBoxWithSearch('.select2', 'dir');

        if (!isEmpty(id) && id != 0) {

            AjaxCallAction("GET", "/api/admin/Contract/Get_Contract/" + id, null, true, function (res) {

                if (res != null) {
                    
                    $("#ContractId").val(res.ContractId);
                    $("#ContractComment").val(res.ContractComment);
                    systemSeting_Combo(res);
                }

            }, true);

        }

    }

    function systemSeting_Combo(resSingle) {

        AjaxCallAction("POST", "/api/admin/SystemSeting/Get_SystemSetings", JSON.stringify({ ParentCodeArr: "150", PageIndex: 0, PageSize: 0 }), true, function (res) {

            if (res.isSuccess) {
                var strContractTitle = '<option value="">انتخاب کنید</option>';
               
                for (var i = 0; i < res.data.length; i++) {
                   
                    strContractTitle += " <option value=" + res.data[i].systemSetingId + ">" + res.data[i].label + "</option>";
                    
                }
             
                $("#ContractTitle").html(strContractTitle);              
                $("#ContractTitle").val(resSingle.ContractTitle);



            }
        }, true);
    }

    web.Contract = {
        TextSearchOnKeyDown: textSearchOnKeyDown,
        FilterGrid: filterGrid,
        SaveContract: saveContract,
        InitContract: initContract,
        SystemSeting_Combo: systemSeting_Combo
    };

})(Web, jQuery);







(function (web, $) {

    //Document Ready              

    function textSearchOnKeyDown(event) {

        if (event.keyCode == 13) $(`button[title='جستجو']`).click();

    }

    function filterGrid() {

        AjaxCallAction("POST", "/api/admin/LicensesAndHonors/Get_LicensesAndHonorss", JSON.stringify({ Search: $("#txtSearch").val(), PageIndex: 1, PageSize: $("#cboSelectCount").val() }), true, function (res) {

            if (res.isSuccess) {

                var strM = '';
                for (var i = 0; i < res.data.length; i++) {

                    strM += "<tr><td>" + (i + 1) + "</td><td>" + res.data[i].title + "</td><td>" + res.data[i].picture + "</td><td><a title='ویرایش' href='/Admin/LicensesAndHonors/EditLicensesAndHonors?id=" + res.data[i].LicensesAndHonorsId + "' class='btn btn-edit fontForAllPage'><i class='fa fa-edit'></i></a></td></tr>";

                }
                $("#tBodyList").html(strM);

            }

        }, true);

    }

    function saveLicensesAndHonors(e) {

        $(e).attr("disabled", "");

        AjaxCallAction("POST", "/api/admin/LicensesAndHonors/Save_LicensesAndHonors", JSON.stringify({ LicensesAndHonorsName: $("#LicensesAndHonorsName").val(), LicensesAndHonorsId: $("#LicensesAndHonorsId").val() }), true, function (res) {

            $(e).removeAttr("disabled");

            if (res.isSuccess) {

                goToUrl("/Admin/LicensesAndHonors/Index");

            }
            else {

                alertB("خطا", res.message, "error");
            }

        }, true);

    }

    function initLicensesAndHonors(id = null) {
        ComboBoxWithSearch('.select2', 'dir');

        if (!isEmpty(id) && id != 0) {

            AjaxCallAction("GET", "/api/admin/LicensesAndHonors/Get_LicensesAndHonors/" + id, null, true, function (res) {

                if (res != null) {
                    
                    $("#LicensesAndHonorsId").val(res.LicensesAndHonorsId);
                    $("#LicensesAndHonorsComment").val(res.LicensesAndHonorsComment);
                    systemSeting_Combo(res);
                }

            }, true);

        }

    }

    function systemSeting_Combo(resSingle) {

        AjaxCallAction("POST", "/api/admin/SystemSeting/Get_SystemSetings", JSON.stringify({ ParentCodeArr: "150", PageIndex: 0, PageSize: 0 }), true, function (res) {

            if (res.isSuccess) {
                var strLicensesAndHonorsTitle = '<option value="">انتخاب کنید</option>';
               
                for (var i = 0; i < res.data.length; i++) {
                   
                    strLicensesAndHonorsTitle += " <option value=" + res.data[i].systemSetingId + ">" + res.data[i].label + "</option>";
                    
                }
             
                $("#LicensesAndHonorsTitle").html(strLicensesAndHonorsTitle);              
                $("#LicensesAndHonorsTitle").val(resSingle.LicensesAndHonorsTitle);



            }
        }, true);
    }

    web.LicensesAndHonors = {
        TextSearchOnKeyDown: textSearchOnKeyDown,
        FilterGrid: filterGrid,
        SaveLicensesAndHonors: saveLicensesAndHonors,
        InitLicensesAndHonors: initLicensesAndHonors,
        SystemSeting_Combo: systemSeting_Combo
    };

})(Web, jQuery);







(function (web, $) {

    //Document Ready              

    function textSearchOnKeyDown(event) {

        if (event.keyCode == 13) $(`button[title='جستجو']`).click();

    }

    function filterGrid() {

        AjaxCallAction("POST", "/api/admin/AboutUs/Get_AboutUss", JSON.stringify({ Search: $("#txtSearch").val(), PageIndex: 1, PageSize: $("#cboSelectCount").val() }), true, function (res) {

            if (res.isSuccess) {

                var strM = '';
                for (var i = 0; i < res.data.length; i++) {

                    strM += "<tr><td>" + (i + 1) + "</td><td>" + res.data[i].kindOfServiceNavigation.label + "</td><td>" + res.data[i].fromCompanyRange + "</td><td>" + res.data[i].toCompanyRange + "</td><td>" + res.data[i].fixedCost + "</td><td>" + res.data[i].variableCost + "</td><td><a title='ویرایش' href='/Admin/AboutUs/EditAboutUs?id=" + res.data[i].AboutUsId + "' class='btn btn-edit fontForAllPage'><i class='fa fa-edit'></i></a></td></tr>";

                }
                $("#tBodyList").html(strM);

            }

        }, true);

    }

    function saveAboutUs(e) {

        $(e).attr("disabled", "");

        AjaxCallAction("POST", "/api/admin/AboutUs/Save_AboutUs", JSON.stringify({ AboutUsName: $("#AboutUsName").val(), AboutUsId: $("#AboutUsId").val() }), true, function (res) {

            $(e).removeAttr("disabled");

            if (res.isSuccess) {

                goToUrl("/Admin/AboutUs/Index");

            }
            else {

                alertB("خطا", res.message, "error");
            }

        }, true);

    }

    function initAboutUs(id = null) {
        ComboBoxWithSearch('.select2', 'dir');

        if (!isEmpty(id) && id != 0) {

            AjaxCallAction("GET", "/api/admin/AboutUs/Get_AboutUs/" + id, null, true, function (res) {

                if (res != null) {
                    
                    $("#AboutUsId").val(res.AboutUsId);
                    $("#AboutUsComment").val(res.AboutUsComment);
                    systemSeting_Combo(res);
                }

            }, true);

        }

    }

    function systemSeting_Combo(resSingle) {

        AjaxCallAction("POST", "/api/admin/SystemSeting/Get_SystemSetings", JSON.stringify({ ParentCodeArr: "150", PageIndex: 0, PageSize: 0 }), true, function (res) {

            if (res.isSuccess) {
                var strAboutUsTitle = '<option value="">انتخاب کنید</option>';
               
                for (var i = 0; i < res.data.length; i++) {
                   
                    strAboutUsTitle += " <option value=" + res.data[i].systemSetingId + ">" + res.data[i].label + "</option>";
                    
                }
             
                $("#AboutUsTitle").html(strAboutUsTitle);              
                $("#AboutUsTitle").val(resSingle.AboutUsTitle);



            }
        }, true);
    }

    web.AboutUs = {
        TextSearchOnKeyDown: textSearchOnKeyDown,
        FilterGrid: filterGrid,
        SaveAboutUs: saveAboutUs,
        InitAboutUs: initAboutUs,
        SystemSeting_Combo: systemSeting_Combo
    };

})(Web, jQuery);







(function (web, $) {

    //Document Ready              

    function textSearchOnKeyDown(event) {

        if (event.keyCode == 13) $(`button[title='جستجو']`).click();

    }

    function filterGrid() {

        AjaxCallAction("POST", "/api/admin/ManagerOfParsKyan/Get_ManagerOfParsKyans", JSON.stringify({ Search: $("#txtSearch").val(), PageIndex: 1, PageSize: $("#cboSelectCount").val() }), true, function (res) {

            if (res.isSuccess) {

                var strM = '';
                for (var i = 0; i < res.data.length; i++) {

                    strM += "<tr><td>" + (i + 1) + "</td><td>" + res.data[i].nameOfManager + "</td><td>" + res.data[i].title.label + "</td><td>" + res.data[i].position.label + "</td><td><a title='ویرایش' href='/Admin/ManagerOfParsKyan/EditManagerOfParsKyan?id=" + res.data[i].managersId + "' class='btn btn-edit fontForAllPage'><i class='fa fa-edit'></i></a></td></tr>";

                }
                $("#tBodyList").html(strM);

            }

        }, true);

    }

    function saveManagerOfParsKyan(e) {

        $(e).attr("disabled", "");

        AjaxCallAction("POST", "/api/admin/ManagerOfParsKyan/Save_ManagerOfParsKyan", JSON.stringify({ ManagerOfParsKyanName: $("#ManagerOfParsKyanName").val(), ManagerOfParsKyanId: $("#ManagerOfParsKyanId").val() }), true, function (res) {

            $(e).removeAttr("disabled");

            if (res.isSuccess) {

                goToUrl("/Admin/ManagerOfParsKyan/Index");

            }
            else {

                alertB("خطا", res.message, "error");
            }

        }, true);

    }

    function initManagerOfParsKyan(id = null) {

        if (!isEmpty(id) && id != 0) {

            AjaxCallAction("GET", "/api/admin/ManagerOfParsKyan/Get_ManagerOfParsKyan/" + id, null, true, function (res) {                

                if (res != null) {

                    $("#ManagerOfParsKyanId").val(res.ManagerOfParsKyanId);
                    $("#ManagerOfParsKyanName").val(res.ManagerOfParsKyanName);

                }

            }, true);

        }

    }

    web.ManagerOfParsKyan = {
        TextSearchOnKeyDown: textSearchOnKeyDown,
        FilterGrid: filterGrid,
        SaveManagerOfParsKyan: saveManagerOfParsKyan,
        InitManagerOfParsKyan: initManagerOfParsKyan
    };

})(Web, jQuery);