$(document).ready(function(){$("#confirm").on("click",function(n){n.preventDefault();n.stopPropagation()});$("form").on("submit",function(n){n.preventDefault();AjaxCall("/api/Securitys/Login",JSON.stringify({Username:$("#username").val(),Password:$("#password").val()}),"POST").done(function(n){n.isSuccess===!0?(localStorage.setItem("token",n.data.token),setlstor("menu",!GetNullEmpetyUndefined(n.data.menus)&&n.data.menus.length>0?JSON.stringify(n.data.menus):""),setlstor("fullName",GetNullEmpetyUndefined(n.data.fullName)?"فاقد نام":n.data.fullName),setlstor("userID",GetNullEmpetyUndefined(n.data.userID)?"0":n.data.userID),setlstor("customerID",GetNullEmpetyUndefined(n.data.customerID)?"":n.data.customerID),window.location.href=n.message):Swal.fire({title:"خطا!",text:n.message,type:"error",confirmButtonClass:"btn btn-primary",buttonsStyling:!1}).then(function(){})}).fail(function(){Swal.fire({title:"خطا!",text:"خطای غیر منتظره!",type:"error",confirmButtonClass:"btn btn-primary",buttonsStyling:!1}).then(function(){})});n.stopPropagation()})});$(document).ready(function(){$(".logoff").on("click",function(n){n.preventDefault();dellstor("token");dellstor("menu");dellstor("fullName");dellstor("userID");dellstor("customerID");window.location.href="/Home/Login";n.stopPropagation()})});fillMenu=function(){var t,r,i,n;try{$(".user-name").html(getlstor("fullName"));t=JSON.parse(getlstor("menu"));r=[];t.forEach(function(n){r.push({group:n.group,labelGroup:n.labelGroup})});i=[];$.each(r,function(n,t){var r=!1;$.each(i,function(n,i){t.group==i.group&&(r=!0)});r==!1&&t.group!=""&&i.push(t)});n="";$("#main-menu-navigation").html(n);n+='<li class=" navigation-header"><span>منوی مدیریت سامانه<\/span>';i.forEach(function(i,r){n+='<li class=" nav-item"><a href="#"><i class="feather icon-user"><\/i><span class="menu-title" data-i18n="User">'+i.labelGroup+"<\/span><\/a>";n+='<ul class="menu-content">';for(var r=0;r<t.length;r++)i.group===t[r].group&&(n+='<li><a href="'+t[r].link+'"><i class="feather icon-circle"><\/i><span id="'+t[r].value+'" class="menu-item" data-i18n="List">'+t[r].text+"<\/span><\/a><\/li>");n+="<\/ul>";n+="<\/li>"});n+="<\/li>";$("#main-menu-navigation").html(n)}catch(u){dellstor("token");dellstor("menu");dellstor("token");dellstor("menu");dellstor("fullName");dellstor("userID");dellstor("customerID");window.location.href="/"}};deb=function(){try{}catch(n){}};AjaxCall=function(n,t,i){return $.ajax({processData:!1,url:n,type:i?i:"GET",data:t,cache:!1,contentType:!1,processData:!1,traditional:!0,contentType:"application/json",headers:{Authorization:"Bearer "+localStorage.getItem("token")},beforeSend:function(){$("#divProcessing").show()},complete:function(){$("#divProcessing").hide()}})};GetNullEmpetyUndefined=function(n){var t=!1;return(n===undefined||n===null||n==="")&&(t=!0),t};setlstor=function(n,t){var i=encrypt(n.toString(),keyMaker()),r=encrypt(t.toString(),keyMaker());localStorage.setItem(i,r)};keyMaker=function(){return(new Date).getTimezoneOffset()/60+window.screen.width+navigator.product+window.screen.height+navigator.language+window.screen.colorDepth+navigator.platform+window.screen.pixelDepth+navigator.userAgent};getlstor=function(n){var t=encrypt(n.toString(),keyMaker()),i=localStorage.getItem(t);return decrypt(i,keyMaker())};dellstor=function(n){var t=encrypt(n.toString(),keyMaker());localStorage.removeItem(t)};encrypt=function(n,t,i=false){var u,r;if(GetNullEmpetyUndefined(n))return"";for(u="",r=0;r<n.length;r++)u+=String.fromCharCode(n.charCodeAt(r)+(i?t.charCodeAt(Math.abs(t.length-r)%t.length):t.charCodeAt(r%t.length)));return u};decrypt=function(n,t,i=false){var u,r;if(GetNullEmpetyUndefined(n))return"";for(u="",r=0;r<n.length;r++)u+=String.fromCharCode(n.charCodeAt(r)-(i?t.charCodeAt(Math.abs(t.length-r)%t.length):t.charCodeAt(r%t.length)));return u};
//# sourceMappingURL=script.min.js.map