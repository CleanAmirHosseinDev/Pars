@{
    ViewData["Title"] = "درخواست ها";
}

@section PageHeader {
    <section class="content-header">
        <h1>
            درخواست ها
        </h1>
        <ol class="breadcrumb">
            <li><a href="/Admin"><i class="fa fa-dashboard"></i> داشبورد</a></li>
            <li><a href="/Admin/RequestForRating/Index"><i></i> درخواست ها</a></li>
        </ol>
    </section>
}

<input type="hidden" id="MyCustomerID" name="MyCustomerID" value="@ViewBag.id" />

<div class="row">
    <section class="col-lg-12 col-md-12">
        <div class="box-rounded">
            <div class="panel-rounded">
                <div class="panel-heading">کادر جستجو</div>
                <div class="panel-body">
                    <div class="row mb-3">
                        <div class="col-md-6 mb-2">
                            <input type="text" id="txtSearch" name="txtSearch" class="form-control"
                                   placeholder="جستجو"
                                   onkeydown="Web.RequestForRating.TextSearchOnKeyDown(event);" />
                        </div>
                        <div class="col-md-6 mb-2">
                            <select class="form-control" id="cboSelectCount" name="cboSelectCount">
                                <option value="5">5</option>
                                <option value="10" selected="selected">10</option>
                                <option value="20">20</option>
                                <option value="50">50</option>
                                <option value="100">100</option>
                                <option value="150">150</option>
                                <option value="200">200</option>
                            </select>
                        </div>
                    </div>

                    <div class="row mb-3">
                        <div class="col-md-6 mb-2">
                            <label>نوع درخواست</label>
                            <select class="form-control select2" id="cboKindOfRequest" name="cboKindOfRequest"
                                    onchange="Web.RequestForRating.OnchangeKindOfRequest(this);">
                            </select>
                        </div>
                        <div class="col-md-6 mb-2">
                            <label>مرحله درخواست</label>
                            <select class="form-control select2" id="cboSelectLS" name="cboSelectLS">
                            </select>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12 text-end">
                            <button class="btn btn-primary btn-custom-search" type="button" onclick="Web.RequestForRating.FilterGrid();" title="جستجو">
                                <i class="fa fa-search"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="table-scroll-wrapper" style="max-height: 500px; overflow-y: auto; overflow-x: auto; border: 1px solid #ccc; margin-top: 15px; border-radius: 6px;">
                <table class="table table-bordered table-striped mb-0" style="min-width: 1000px;">
                    <thead>
                        <tr>
                            <th>
                                #
                            </th>
                            <th class="cursorPointer sortable" onclick="Web.RequestForRating.ClickSortingRequestForRatingGrid(this);"
                                data-A="RequestNumber_A" data-D="RequestNumber_D">
                                شماره درخواست
                                <i class="sort-icon fa" style="margin-right: 5px;"></i>
                            </th>
                            <th class="cursorPointer sortable" onclick="Web.RequestForRating.ClickSortingRequestForRatingGrid(this);"
                                data-A="CustomerName_A" data-D="CustomerName_D">
                                نام مشتری / شرکت
                                <i class="sort-icon fa" style="margin-right: 5px;"></i>
                            </th>
                            <th>
                                موبایل مشتری
                            </th>
                            <th class="cursorPointer sortable" onclick="Web.RequestForRating.ClickSortingRequestForRatingGrid(this);"
                                data-A="RequestDate_A" data-D="RequestDate_D">
                                تاریخ درخواست
                                <i class="sort-icon fa" style="margin-right: 5px;"></i>
                            </th>
                            <th class="cursorPointer sortable" onclick="Web.RequestForRating.ClickSortingRequestForRatingGrid(this);"
                                data-A="ActorName_A" data-D="ActorName_D">
                                اقدام کننده
                                <i class="sort-icon fa" style="margin-right: 5px;"></i>
                            </th>
                            <th>
                                نظرسنجی
                            </th>
                            <th>
                                پیشنهاد و یا انتقاد
                            </th>
                            <th class="cursorPointer sortable" onclick="Web.RequestForRating.ClickSortingRequestForRatingGrid(this);"
                                data-A="StatusTitle_A" data-D="StatusTitle_D">
                                وضعیت
                                <i class="sort-icon fa" style="margin-right: 5px;"></i>
                            </th>
                            <th class="cursorPointer sortable" onclick="Web.RequestForRating.ClickSortingRequestForRatingGrid(this);"
                                data-A="LastStatusDate_A" data-D="LastStatusDate_D">
                                تاریخ آخرین وضعیت
                                <i class="sort-icon fa" style="margin-right: 5px;"></i>
                            </th>
                            <th style="min-width: 250px;">عملیات</th>
                        </tr>
                    </thead>
                    <tbody id="tBodyList"></tbody>
                </table>
            </div>
            <div id="divPageingList_RequestForRatingsAdmin" class="mt-3">
            </div>
        </div>
    </section>
</div>

@section Styles {
    <link rel="stylesheet" href="~/css/GlobalAreas/bower_components/select2/dist/css/select2.min.css" asp-append-version="true">
    <style>
        td {
            vertical-align: central;
        }
    </style>
}

@section Scripts {
    <script src="~/css/GlobalAreas/bower_components/select2/dist/js/select2.full.min.js" asp-append-version="true"></script>
    <script>
        Web.RequestForRating.FilterGrid(@ViewBag.id);
        Web.RequestForRating.FillComboLevelStepSettingList();
    </script>
}
